{% import "icons.twig" as icons %}

{% if in_component_library %}
  {% set logo = '@logo' %}
{% else %}
  {% set logo = 'logo.twig' %}
{% endif %}

{% set centers = fn('wp_get_nav_menu_items', 'Centers and Institutions Menu')|map(i => {
  title: i.title,
  url: i.url,
}) %}

{% set programs = fn('wp_get_nav_menu_items', 'Academic Programs Menu')|map(i => {
  title: i.title,
  url: i.url,
}) %}

<footer class="footer bg-indigo py-14 space-y-12 md:space-y-14">
  <div class="footer__inner md:grid md:grid-cols-12 gap-x-10 max-w-screen-2xl w-full px-5 my-0 mx-auto">
    <div class="footer__left md:col-span-5">
      <a class="block" href="{{ address.url }}">
        <svg viewBox="0 0 153 30.4" class="fill-white w-[150px]">
          <path d="M18.9 15.4v.8c0 4.2-2.2 6.6-7.1 6.6s-8.3-3-8.3-9.9c0-6.8 3.4-9.5 8.2-9.5 4.8 0 7.2 2 7.2 6.7v.7h3.2V9.6c0-5.4-3.2-9.1-10.4-9.1C4.5.4 0 4.9 0 12.9c0 8.8 4.8 12.9 11.7 12.9 7.1 0 10.5-3.6 10.5-9.4v-1h-3.3zM33.5 5.2c-5.7 0-10 3.3-10 10s4.1 10.5 10 10.5 10-3.8 10-10.5c.1-6.6-4.3-10-10-10zm0 17.9c-4 0-6.9-2.6-6.9-7.7 0-5 2.9-7.3 6.9-7.3s6.9 2.3 6.9 7.3c.1 5-2.8 7.7-6.9 7.7zM44.8 0c.1 4.2.1 7.6.1 12.8 0 4.4 0 8.6-.1 12.6h3.3c-.1-4.1-.1-7.8-.1-12.5 0-5.4 0-8.8.1-12.9h-3.3zM61.1 5.3c-4 0-6.6 1.7-7.8 4.3h-.1c.1-1.3.1-2.3.1-3.6 0-2.5 0-4.1.1-6H50v13.5c0 5 0 8.8-.1 11.9h3.3v-2.5l.2-.1c1.3 1.6 4 2.9 7.5 2.9 5.2 0 8.2-3.6 8.2-10.3 0-6.7-2.7-10.1-8-10.1zm-1.3 17.8c-2.7 0-5-.8-6.6-2V14c0-4.1 3.1-6 6.7-6C64 8 66 10.5 66 15.4s-2.1 7.7-6.2 7.7z"/>
          <path d="M85.2 5.7c-.8 2.4-2.8 6.8-4.2 10.3-1 2.8-1.8 4.7-2.3 6.1h-.2c-.5-1.4-1.2-3.5-2.3-6.2-1.4-3.5-3.7-8.7-4.2-10.2h-3.8c2.3 4.8 6.6 15 8.1 18.3h1.4l-.1.2c-1.2 2.5-2.5 3.4-4.7 3.4-1.6 0-2.9-.4-4.2-1.1-.1.6-.6 2.3-.8 2.9 1.4.7 2.9 1 4.8 1 4.1 0 6-2 8-6.4 1.5-3.3 5.8-13.8 7.9-18.3h-3.4zM92.7.8c-1.2 3.5-7.5 19.2-9.9 24.6h3.7c.4-1.2 1.3-3.6 2.4-6.5h6.2c1.8 0 4.1 0 6.3.1 1.1 2.9 2 5.3 2.3 6.4h4C105 19.5 99 4.4 97.6.8h-4.9zm2.4 15.6h-5.2c1.1-2.8 2.2-5.7 3.1-8.1 1-2.8 1.7-4.5 2.1-5.6.4 1.2 1 2.9 2.1 5.4.9 2.4 2.1 5.4 3.2 8.3h-5.3zM129.4 22.8c-3.4 0-4.6-1.4-4.6-4V8.4c3.1 0 6.4 0 9.1.1 0-.9 0-2 .1-2.9-3.1.1-6.2.1-9.1.1 0-1.4 0-2.9.1-4.2h-3.3v4.2H118c-3.3 0-5.3 1.2-6.4 4.4h-.2c.1-1.8.1-3.2.2-4.4h-2.9c.1 2.8.1 5.6.1 9.8s0 7.1-.1 9.9h3.4c-.1-2.2-.1-6.8-.1-10.3 0-4.8 2.4-6.7 5.8-6.7h3.8v10.7c0 3.9 2.1 6.5 7.4 6.5 2.1 0 3.6-.3 5.3-.8-.1-.8-.4-1.9-.5-2.9-1.3.6-2.7.9-4.4.9zM144.9 14.2c-5.4-.6-6.6-1.6-6.6-3.4 0-2 1.7-3 5.6-3 4.1 0 5.6 1.1 5.6 3.5v1h2.9V11c0-3.9-2.6-5.7-8.6-5.7-5.9 0-8.7 1.8-8.7 5.5 0 3.1 1.8 5.1 7.8 5.7 5.7.5 7.1 1.5 7.1 3.5 0 2.2-1.6 3.2-5.7 3.2s-6.3-1-6.3-3.8v-.8c-.4 0-.9.1-1.4.1-.6 0-1.1 0-1.5-.1v1c0 4 2.7 6.1 9.2 6.1 6.1 0 8.8-2 8.8-5.7-.1-3.5-2.1-5.2-8.2-5.8z"/>
        </svg>
      </a>
      <p class="font-body font-normal text-14 leading-130 text-gray-500 mt-8 md:mt-7">{{ address.text }}</p>
    </div>
    <div class="footer__right md:col-start-7 md:col-span-6 mt-12 md:mt-0">
      <div class="grid md:grid-cols-2 gap-12 md:gap-4">
        <div class="col-span-1">
          <h2 class="font-body font-bold text-18 leading-120 text-gray-200">Spaces and Organizations</h2>
          <ul class="footer__links grid gap-2 mt-5">
            {% for item in centers %}
              <li class="col-span-1 font-body font-normal text-14 leading-120">
                <a class="text-gray-200 hover:text-white hover:underline transition-all duration-200 ease-in-out" href="{{ item.url }}">{{ item.title }}</a>
              </li>
            {% endfor %}
          </ul>
        </div>
        <div class="col-span-1">
          <h2 class="font-body font-bold text-18 leading-120 text-gray-200">Academic Departments</h2>
          <ul class="footer__links grid gap-2 mt-5">
            {% for item in programs %}
              <li class="col-span-1 font-body font-normal text-14 leading-120">
                <a class="text-gray-200 hover:text-white hover:underline transition-all duration-200 ease-in-out" href="{{ item.url }}">{{ item.title }}</a>
              </li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>
    <div class="col-span-12 pb-8 md:pb-12 border-b border-gray-800"></div>
  </div>
  <div class="footer__inner md:grid md:grid-cols-12 gap-x-10 max-w-screen-2xl w-full px-5 my-0 mx-auto">
    <div class="md:col-span-12 md:flex justify-between items-center">
      <ul class="footer__utility flex flex-wrap md:flex-nowrap gap-6 md:gap-0 md:space-x-6">
        {% for item in utility %}
          <li class="inline-block">
            <a class="btn group inline-flex flex-row items-center space-x-1.5 rounded border border-solid border-indigo-800 hover:border-indigo-800 font-body font-normal text-14 leading-130 !no-underline text-white bg-indigo focus:outline focus:outline-2 focus:outline-canary outline-offset-[-1px] py-1.5 px-4 transition-all duration-200 ease-in-out" href="{{ item.url }}">
              {{ icons.icon(item.title|lower, 'fill-white w-3.5 h-3.5') }}
              <span class="btn__text">
                {{ item.title }}
                <div class="btn__border block bg-white h-px w-0 group-hover:w-full transition-all duration-200 ease-in-out"></div>
              </span>
            </a>
          </li>
        {% endfor %}
      </ul>
      <ul class="footer__socials flex space-x-4 mt-10 md:mt-0">
        {% for item in social %}
          <li class="text-[0]">
            <a class="flex text-indigo-100" href="{{ item.platform.url }}">
              {{ icons.icon(item.platform.title|lower, 'fill-indigo-100 hover:fill-indigo-500 max-w-6 md:max-w-4 max-h-6 md:max-h-4 w-full transition-all duration-200 ease-in-out') }}
              <span class="sr-only">{{ item.platform.title }}</span>
            </a>
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>
</footer>
